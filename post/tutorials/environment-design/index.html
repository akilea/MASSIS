<!DOCTYPE html>
<html xmlns="//www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
    <head>
        
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />

        <title>Designing the simulation environment &middot; MASSIS Framework</title>
        <link rel='stylesheet' href='//fonts.googleapis.com/css?family=Open+Sans:400,300,600' type='text/css'>
        <link rel="stylesheet" href="http://www.massisframework.com//libraries/normalize.3.0.1.css" />
        <link rel="stylesheet" href="http://www.massisframework.com//css/liquorice.css" />

        <link rel="stylesheet" href="http://www.massisframework.com//libraries/tooltip.css" />
		<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/styles/mono-blue.min.css">

        <link rel="shortcut icon" href="/favicon.ico" />
        <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon-144-precomposed.png" sizes="144x144" />
        <link rel="alternate" href="" type="application/rss+xml" title="MASSIS Framework" />
    </head>
    <body class="li-body">

<header class="li-page-header">
    <div class="container">
        <div class="row">
            <div class="sixteen columns">
                <div class="li-brand li-left">
                <a href="http://www.massisframework.com/">MASSIS Framework</a></div>
                <div class="li-menu li-right">
                    <span class="li-menu-icon" onclick="javascript:toggle('menu');">&#9776;</span>
                    <ul id="menu2" class="li-menu-items">
                        
                            <li><a href="/page/authors/"> Authors </a></li>
                        
                            <li><a href="/page/getting-started/"> Getting started </a></li>
                        
                            <li><a href="/categories/tutorials/"> Tutorials </a></li>
                        
                    </ul>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="sixteen columns">
                <ul id="menu" class="li-menu-items li-menu-mobile">
                    
                        <li><a href="/page/authors/"> Authors </a></li>
                    
                        <li><a href="/page/getting-started/"> Getting started </a></li>
                    
                        <li><a href="/categories/tutorials/"> Tutorials </a></li>
                    
                </ul>
            </div>
        </div>
    </div>
</header>






    <div class="container">
        <div class="row">
            <div class="sixteen columns">
                <article class="li-article">
                    <header class="li-article-header">
                        <h1 class="li-article-title">Designing the simulation environment</h1>
                        <span class="li-article-taxonomies">
                           
                        </span>
                      
                    </header>
                    <section>
                        

<h2 id="environment-editor:503de2820c07a9b745c7e4008aa66e0e">Environment editor</h2>

<p>The environment editor of MASSIS is  <a href="http://www.sweethome3d.com">SweetHome3D</a>, which has been extended with plugins, for connecting the editor with the simulation.
More information about extending SweetHome3D via plugins can be found in the <a href="http://www.sweethome3d.com/pluginDeveloperGuide.jsp">Plugins&rsquo; developer guide</a></p>

<blockquote>
<p><strong>More information:</strong>
The code for SweetHome3D is also <a href="https://github.com/rpax/sweethome3d">available at github</a>, and configured as maven dependency.</p>

<p><strong>More information:</strong>
Note that the editor launched <em>is not exactly</em> the SweetHome3D editor. The main class of the editor extends <code>SweetHome3D</code> class, with support for loading plugins at runtime. This can be used for other applications. The source code can be found at</p>

<p><a href="https://github.com/rpax/massis-sh3d-plugins/tree/master/sh3d-additionaldata-app">https://github.com/rpax/massis-sh3d-plugins/tree/master/sh3d-additionaldata-app</a></p>

<p>More information about how to load custom plugins dynamically can be found
<a href="/post/loading-custom-plugins-dynamically">here</a>.</p>
</blockquote>

<h2 id="designing-the-environment:503de2820c07a9b745c7e4008aa66e0e">Designing the environment</h2>

<h3 id="creating-editing-walls:503de2820c07a9b745c7e4008aa66e0e">Creating &amp; Editing walls</h3>

<p>The creation of walls can be done in two ways:
* Selecting Plan → Create walls</p>

<p><img src="http://i.imgur.com/dkkDSaR.png" alt="" /></p>

<ul>
<li>Pressing the <img src="http://i.imgur.com/i4qzaDX.png" alt="" /> icon.</li>
</ul>

<p>After that, every left click in the map will create a wall. For finishing the wall creation mode, just click the arrow icon or press the Esc key.</p>

<p><img src="http://i.imgur.com/DAiFfI5.png" alt="" /></p>

<h3 id="adding-doors-windows-furniture:503de2820c07a9b745c7e4008aa66e0e">Adding doors, windows &amp; furniture</h3>

<p>The furniture, doors and windows can be selected from the left pane, and can be placed into the building by dragging and dropping them. <strong>Note</strong>: it is important to place the doors and windows in the walls. Otherwise, the simulation may not work correctly.</p>

<p><img src="http://i.imgur.com/bdr0Vvp.png" alt="" /></p>

<h3 id="importing-3d-objects:503de2820c07a9b745c7e4008aa66e0e">Importing 3D objects</h3>

<p>Extra 3D objects can be imported, and configured as window/door/furniture, from Furniture → Import Furniture.</p>

<h3 id="drawing-rooms:503de2820c07a9b745c7e4008aa66e0e">Drawing rooms</h3>

<p>Rooms can be added the same way as walls, using the  button or selecting the option in Plan → Create Rooms.
<em><strong>Very important note</strong></em>: This way is highly discouraged for creating environments for MASSIS. As MASSIS uses the rooms in its preprocessing algorithms, a bad placement of them can make the simulation behave incorrectly, or even failing. The preferred way is double clicking a closed area, surrounded by walls. In this way, the new room will occupy the entire space.</p>

<p><img src="http://i.imgur.com/1SjFlDv.png" alt="" /></p>

<p>Levels can be added by clicking the + icon in the Levels tab</p>

<p><img src="http://i.imgur.com/csxX8hB.png" alt="" /></p>

<h2 id="metadata-editor:503de2820c07a9b745c7e4008aa66e0e">Metadata Editor</h2>

<p>MASSIS needs extra, user-provided information about the elements of the building. This information is stored as metadata inside each element of the building. Every element in the building has metadata, can be viewed and edited directly from Tools → Add Metadata. This popups a simple modal dialog, with input fields in the form of  key – value pairs. These values are read and processed later by MASSIS.</p>

<p><img src="http://i.imgur.com/sq3FNZE.png" alt="" /></p>

<h2 id="teleport-linking:503de2820c07a9b745c7e4008aa66e0e">Teleport Linking</h2>

<p>In a building of multiple floors, the agents must be capable of moving through the different floors of the building. This is done via <em>Teleports</em> : Special elements in the building that, as the name suggests, they teleport the agent from one location to another, and they are unidirectional.</p>

<p>A correctly configured teleport consists on two elements, representing the origin area and the destination area. Any furniture object can be configured as teleport. However, MASSIS release comes with a group of 3D objects designed with this purpose, in order to make easier the design and recognition of them.</p>

<p><img src="http://i.imgur.com/79suUPY.png" alt="" /></p>

<p>A Teleport object must have the following parameters,
<code>type</code> : <code>START</code> or <code>END</code>
<code>teleport</code>: the teleport name
So, in the building, there would be two elements with the same teleport attribute, one with <code>START</code> as value of type, and the other one with <code>END</code> as value. The meradata of an element conforming the Teleport <code>SB1_B_LEFT</code> would be like this:</p>

<p><img src="http://i.imgur.com/jwtsqoT.png" alt="" /></p>

<h2 id="other-massis-design-utilities:503de2820c07a9b745c7e4008aa66e0e">Other MASSIS&rsquo; Design Utilities</h2>

<blockquote>
<p><strong>Important Note</strong>: Due to some important changes in the MASSIS&rsquo; framework during November 2015, this feature has been temporarily disabled. Although The code can be found in the <a href="https://github.com/rpax/MASSIS/tree/master/massis-sh3d-plugins">main MASSIS repository</a>, it is not integrated in the application. These plugins will be moved to the <a href="https://github.com/rpax/massis-sh3d-plugins/">plugins repository</a> as soon as possible. The information shown below it is not longer valid.</p>
</blockquote>

<p>MASSIS comes with some other design utilities, that can be found at Tools → Designer tools or Name Generation.</p>

<h3 id="designer-tools:503de2820c07a9b745c7e4008aa66e0e">Designer tools</h3>

<p>This plugin can make the external walls invisible(not every wall, so the interior of the building can be viewed from the outside, without making all the walls invisible).
One of the most boring things when designing a building is doing repetitive tasks one by one. For example, the color of the floor. This must be done clicking and modifying each room, in the SweetHome3D&rsquo;s way. With the Rooms Color plugin, this task can be done automatically.</p>

<p><img src="http://i.imgur.com/gDWh2vBm.png" alt="" /></p>

<h3 id="name-generation:503de2820c07a9b745c7e4008aa66e0e">Name Generation</h3>

<p>This plugin gives a name with the specified prefix to every room, or door in the building.</p>

<p><img src="http://i.imgur.com/rKIMX5W.png" alt="" /></p>

<h2 id="final-notes:503de2820c07a9b745c7e4008aa66e0e">Final notes</h2>

<p>This section is not intended to replace SweetHome3D&rsquo;s manual, only as a getting started guide. For more information, refer to the <a href="http://www.sweethome3d.com/userGuide.jsp">SweetHome3D manual</a></p>

                    </section>
                </article>
            </div>
        </div>

       

       <br />
    </div>

<footer class="li-page-footer">
    <div class="container">
        <div class="row">
            <div class="sixteen columns">
                <div class="li-page-footer-legal">
                    © 2015 Rafael Pax &amp; Juan Pavón.
                </div>
                <div class="li-page-footer-theme">
                    <span class=""><a href="https://github.com/eliasson/liquorice/">liquorice</a> is a theme for <a href="http://hugo.spf13.com">hugo</a></span>
                </div>
            </div>
        </div>
    </div>
</footer>

    <script type="text/javascript">
    <!--
    function toggle(id) {
        var e = document.getElementById(id);
        e.style.display == 'block' ? e.style.display = 'none' : e.style.display = 'block';
    }
    
    </script>
    <script type="text/javascript">
    <!--
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', ""]);
        _gaq.push(['_trackPageview']);

        (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    -->
    </script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.0.0/highlight.min.js"></script>
	<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	<script>
	$(function() {
		var swapimgs = function($a,$b) {
			tmp=$a.attr("src");
			$a.attr("src",$b.attr("src"));
			$b.attr("src",tmp);
		};
		$('.althover-img-0').mouseenter(function() {
  				swapimgs($(this),$(this).siblings().first());
				
		});
		$('.althover-img-0').mouseleave(function() {
  				swapimgs($(this),$(this).siblings().first());
		});
		
	});
	</script>
    </body>
</html>

